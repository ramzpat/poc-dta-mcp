---
applyTo: '**'
description: 'POC DTA MCP - Data Analytics MCP Server with AI Agent Configuration'
---

# POC: Data Analytics MCP Server

## Project Context
**Project Type**: Technical - MCP Server Development for Data Analytics  
**Primary Language**: Python 3.11+  
**Architecture**: Model Context Protocol (MCP) Server with AI Data Scientist Agent  
**Key Technologies**: FastMCP, PostgreSQL, pandas, Redis (session management)

## Project Overview

This is a Proof of Concept (POC) for building a Model Context Protocol (MCP) server that enables AI agents to interact with data analytics tools and databases. The project creates an interface between data sources and AI agents, where data can be queried, analyzed, and managed securely.

### Core Objectives

1. **Build MCP Server** for data analytics tools integration
2. **AI Data Scientist Agent** that can perform analytical tasks autonomously
3. **Session-based Data Management** for privacy-preserving analytics
4. **Dynamic Data Interface** supporting updates and additions
5. **Telco Use Case Implementation** as primary demonstration

## Key Use Cases

### Use Case 1: Direct Data Access
- AI agent queries PostgreSQL database directly
- Performs exploratory data analysis (EDA)
- Generates visualizations and statistical reports
- Updates data based on analysis results

### Use Case 2: Session-Based Privacy-Preserving Access
- Data is NOT directly exposed to external systems
- Session manager creates temporary data contexts
- AI agent operates on session-scoped data
- Results stored for internal system consumption
- Session data expires after configurable timeout

### Use Case 3: Telco Analytics
- Customer churn analysis
- Network performance analytics
- Service quality monitoring
- Revenue optimization

## Architecture Components

### 1. MCP Server (FastMCP)
- **Tools**: Data query, analysis, visualization, session management
- **Resources**: Database schemas, data dictionaries, analysis templates
- **Prompts**: Data analysis workflows, query templates

### 2. Data Layer
- **PostgreSQL**: Primary structured data store
- **CSV Files**: Batch data imports
- **PDF Documents**: Document analysis and extraction

### 3. Session Manager
- **Redis**: Session state storage
- **Session Context**: Temporary data snapshots
- **Access Control**: Role-based data permissions

### 4. AI Agent
- **Capabilities**: pandas, numpy, scipy, statsmodels, scikit-learn
- **Visualizations**: matplotlib, seaborn, plotly
- **SQL**: SQLAlchemy, psycopg2

## Reference Instructions

### Core Development
- `python.instructions.md` - Python coding standards
- `python-mcp-server.instructions.md` - MCP server implementation
- `security-and-owasp.instructions.md` - Security best practices
- `performance-optimization.instructions.md` - Performance tuning

### Data & Analytics
- `data-analytics.instructions.md` - Data analysis best practices (project-specific)
- `postgresql-best-practices.instructions.md` - Database optimization (project-specific)
- `session-management.instructions.md` - Session handling (project-specific)

### Quality & Documentation
- `code-review-generic.instructions.md` - Code review standards
- `markdown.instructions.md` - Documentation standards
- `self-explanatory-code-commenting.instructions.md` - Code commenting

## Key Development Standards

### MCP Server Development
1. Use FastMCP framework for Python implementation
2. Follow async/await patterns for all I/O operations
3. Implement comprehensive error handling and logging
4. Use Pydantic for data validation
5. Document all tools, resources, and prompts with clear schemas

### Data Analytics
1. Use pandas for data manipulation
2. Implement proper data validation and cleaning
3. Handle missing data appropriately
4. Generate reproducible analysis with fixed random seeds
5. Cache expensive computations

### Session Management
1. Use Redis for high-performance session storage
2. Implement session timeouts and cleanup
3. Encrypt sensitive data in sessions
4. Log all session operations for audit
5. Implement session expiration notifications

### Security
1. Never log sensitive data
2. Use parameterized SQL queries (prevent SQL injection)
3. Implement role-based access control (RBAC)
4. Validate and sanitize all inputs
5. Use environment variables for secrets

### Testing
1. Unit tests for all MCP tools
2. Integration tests for database operations
3. Session management tests
4. Load testing for concurrent sessions
5. Security testing for data access

## Project Structure

```
poc-dta-mcp/
├── .github/
│   └── copilot/
│       ├── instructions/      # Project-specific instructions
│       ├── agents/            # Custom AI agents
│       ├── prompts/           # Workflow prompts
│       └── skills/            # Custom skills
├── src/
│   ├── mcp_server/           # MCP server implementation
│   │   ├── tools/            # MCP tools
│   │   ├── resources/        # MCP resources
│   │   └── prompts/          # MCP prompts
│   ├── data/                 # Data management
│   │   ├── db/              # Database connectors
│   │   ├── session/         # Session manager
│   │   └── processors/      # Data processors
│   └── analytics/            # Analytics engines
│       ├── eda/             # Exploratory Data Analysis
│       ├── stats/           # Statistical analysis
│       └── viz/             # Visualizations
├── tests/                    # Test suites
├── docs/                     # Documentation
│   ├── requirements.md      # Project requirements
│   ├── design.md           # Technical design
│   └── use-cases.md        # Use case documentation
└── resources/               # Sample data and references
```

## Development Workflow

1. **Design Phase**: Define requirements, architecture, and use cases
2. **MCP Server Development**: Implement core MCP tools and resources
3. **Data Layer Setup**: Configure PostgreSQL, Redis, data processors
4. **Session Management**: Build session context and lifecycle
5. **AI Agent Integration**: Create data scientist agent with capabilities
6. **Use Case Implementation**: Develop telco analytics use cases
7. **Testing**: Comprehensive testing across all layers
8. **Documentation**: Complete API docs, user guides, runbooks

## Getting Help

### For MCP Server Development
- Reference: `python-mcp-server.instructions.md`
- Ask: "@copilot How do I create a new MCP tool for [specific task]?"

### For Data Analysis
- Reference: `data-analytics.instructions.md`
- Ask: "@copilot Help me implement [specific analysis] following best practices"

### For Session Management
- Reference: `session-management.instructions.md`
- Ask: "@copilot How do I handle session expiration for [scenario]?"

### For Security Review
- Reference: `security-and-owasp.instructions.md`
- Ask: "@copilot Review this code for security vulnerabilities"

## Quick Commands

```bash
# Review code for POC standards
@copilot Review this PR for MCP server best practices

# Implement new MCP tool
@copilot Create an MCP tool for [data operation] following FastMCP patterns

# Create data analysis function
@copilot Implement [analysis type] using pandas with proper error handling

# Setup session management
@copilot Implement session lifecycle for [use case] with Redis

# Generate tests
@copilot Create unit tests for [component] with pytest
```

## Success Criteria

- ✅ MCP server operational with defined tools
- ✅ AI agent can query and analyze data
- ✅ Session-based access working with privacy controls
- ✅ Telco use cases functional and documented
- ✅ All security requirements met
- ✅ Comprehensive test coverage (>80%)
- ✅ Complete documentation and runbooks
